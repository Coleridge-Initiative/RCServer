<!DOCTYPE html>
<html lang="en">
<head>
 <title>Rich Context</title>
 <meta charset="utf-8">
 <meta
  name="viewport"
  content="width=device-width, initial-scale=1"
 >
 <meta
  name="keywords"
  content="rich context, evidence-based policymaking, knowledge graph, automated data inventory"
 >
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <link
  rel="stylesheet"
  href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
  integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47"
  crossorigin="anonymous"
 >
 <!--[if lte IE 8]>
   <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-old-ie-min.css">
 <![endif]-->
 <!--[if gt IE 8]><!-->
   <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css">
 <!--<![endif]-->
 <style>
html, body {
  min-height: 100%;
}
#content {
  min-height: 100%;
  height: auto !important; /*min-height hack*/
  height: 100%;            /*min-height hack*/
  margin-bottom: -4em;     /*negates #push on longer pages*/
}
#footer {
  height: 4em;
}
 </style>
</head>
<body
 style="background-color: coral;"
>
<div id="content">
<div class="pure-g">

  <div class="pure-u-1 pure-u-md-1-4">
<div
 style="background-color: red; padding: 1em;"
>
<h3>Providers:</h3>
<p>
US Dept of Foo
</p>
</div>
<div
 style="background-color: red; padding: 1em;"
>
<h3>Journals:</h3>
<p>
J Gene Obsti Foo
</p>
</div>
<div
 style="background-color: red; padding: 1em;"
>
<h3>Publications:</h3>
<p>
"Will metasyntactic variables literally just can't even, like ever?"
</p>
</div>
<div
 style="background-color: red; padding: 1em;"
>
<h3>Authors:</h3>
<p>
Mathison, Franny
</p>
<p>
Everdeen, Katniss
</p>
<p>
Finch, Jean Louise
</p>
</div>
  </div>

  <div class="pure-u-1 pure-u-md-3-4">
<form
 id="search"
 class="pure-form"
 style="padding-left: 1em;"
>
<fieldset>
<label for="entity">dataset</label>
<input type="text" name="entity" value="IRI Infoscan" style="width: 20em;"/>
<button type="submit" class="pure-button pure-button-primary" onclick="run_search()">search</button>
</fieldset>
</form>

<p
 style="background-color: blue; padding: 1em; min-height: 30em;"
>placeholder</p>
  </div>

<div id="footer" class="pure-u-1">
<footer>
  Place your footer information here.
</footer>
</div>

</div>
</div>

<script>
function run_search() {
  var entity = document.forms.search.entity.value;
  console.log(entity);

  var url = "/api/v1/query/".concat(encodeURI(entity));
  console.log(url);

  var xhr = new XMLHttpRequest();
  xhr.responseType = "json";
  xhr.open("GET", url);
  xhr.send()

  xhr.onload = function() {
    if (xhr.status != 200) {
      alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found
    } else { // use the result
      var obj = xhr.response;
      console.log(obj);
    }
  };

  xhr.onerror = function() {
    alert("API request failed");
  };
}
</script>

</body>
</html>
